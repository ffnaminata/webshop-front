{"ast":null,"code":"// eslint-disable-next-line no-unused-vars\nimport { Stock, Product, Cart } from '../manager.js';\nexport default {\n  name: 'IndexPage',\n  props: {\n    msg: String\n  },\n  data: function () {\n    return {\n      stock: {},\n      cart: {},\n      list_products: {},\n      list_cart: {},\n      desc_product: {},\n      total_price: 0,\n      nbr_product: 0\n    };\n  },\n  created() {\n    this.stock = new Stock();\n    this.cart = new Cart();\n    this.list_products = this.stock.get_list_product();\n  },\n  methods: {\n    add_to_cart: function (id) {\n      this.cart.addInCart(id);\n      this.update_cart();\n    },\n    get_info_product(id) {\n      this.desc_product = {};\n      this.desc_product = this.stock.get_prod_by_id(id);\n    },\n    update_cart() {\n      this.list_cart = {};\n      this.list_cart = this.cart.get_list_cart();\n      this.update_total();\n    },\n    update_total() {\n      this.total_price = 0;\n      this.nbr_product = 0;\n      this.total_price = this.cart.get_total_price(this.stock);\n      this.nbr_product = this.cart.get_nbr_product();\n    },\n    remove_from_cart(id) {\n      this.cart.removeFromCart(id);\n      this.update_cart();\n      this.update_total();\n    }\n  }\n};","map":{"version":3,"names":["Stock","Product","Cart","name","props","msg","String","data","stock","cart","list_products","list_cart","desc_product","total_price","nbr_product","created","get_list_product","methods","add_to_cart","id","addInCart","update_cart","get_info_product","get_prod_by_id","get_list_cart","update_total","get_total_price","get_nbr_product","remove_from_cart","removeFromCart"],"sources":["src/components/IndexPage.vue"],"sourcesContent":["<template>\n    <div class=\"IndexPage\">\n        <br>\n        <div class=\"row\">\n            <!-- Banner -->\n            <div class=\"jumbotron jumbotron-fluid b\">\n                <div class=\"container\">\n                    <h1 class=\"display-4\">Fluid jumbotron</h1>\n                    <p class=\"lead\">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>\n                </div>\n            </div>\n\n            <!-- Product list --> \n            <div class=\"col-md-9\">\n                <div class=\"row gx-4 gy-4 row-cols-3\">\n                    <div class=\"col\" v-for=\"(product, id) in list_products\" :key=\"id\">\n                        <div class=\"p-3 border bg-light\">\n                            <h5>{{ product.name }}</h5>\n                            <p>{{ product.desc }}</p>\n                            <p>{{ product.price }} </p>\n                            <button type=\"button\" class=\"btn btn-success btn-sm\" v-on:click=\"add_to_cart(product.id)\"> Ajouter au panier </button>\n                        </div> \n                    </div>\n                </div> \n            </div>\n\n            <!-- Cart -->\n            <div class=\"col-6 col-md-3\">\n                <div class=\"col\" >\n                    <div class=\"p-3 border bg-success\">\n                        <h5>Cart </h5>\n                    </div>\n                </div>\n                <div class=\"row gx-4 row-cols-1\">\n                    <div class=\"col\" v-for=\"(value, id) in list_cart\" :key=\"id \">\n                        <div class=\"p-3 border bg-light\">\n                            {{ get_info_product(id)}} \n                            <h5>{{desc_product.name}}</h5>\n                            <h6>Quantit : {{value}}</h6>\n                            <button type=\"button\" class=\"btn btn-success btn-sm\" v-on:click=\"remove_from_cart(id)\"> Supprimer </button>\n                        </div> \n                    </div>\n                    <!-- show total --> \n                    <div class=\"col\" >\n                        <div class=\"p-3 border bg-success\">\n                            <h5>Total : {{total_price}} </h5> \n                            <h6>Nombre de produits : {{nbr_product}} </h6>\n                        </div> \n                    </div>\n                </div> \n            </div>\n        </div> \n    </div>\n</template>\n\n<script>\n// eslint-disable-next-line no-unused-vars\n    import {Stock, Product, Cart} from '../manager.js';\n    export default { \n        name: 'IndexPage', props: {\n            msg: String \n        },\n        data: function () { \n            return {\n                stock : {},\n                cart : {}, \n                list_products: {}, \n                list_cart: {}, \n                desc_product: {}, \n                total_price: 0, \n                nbr_product: 0\n            } \n        },\n        created () {\n            this.stock = new Stock();\n            this.cart = new Cart();\n            this.list_products = this.stock.get_list_product();\n        }, \n        methods: {\n            add_to_cart: function (id) { this.cart.addInCart(id); this.update_cart();\n            }, \n            get_info_product(id) {\n                this.desc_product = {};\n                this.desc_product = this.stock.get_prod_by_id(id); \n            },\n            update_cart() {\n                this.list_cart = {};\n                this.list_cart = this.cart.get_list_cart(); this.update_total();\n            }, \n            update_total() {\n                this.total_price = 0;\n                this.nbr_product = 0;\n                this.total_price = this.cart.get_total_price(this.stock); this.nbr_product = this.cart.get_nbr_product();\n            }, \n            remove_from_cart(id) {\n                this.cart.removeFromCart(id); \n                this.update_cart(); \n                this.update_total();\n            } \n        }\n    }\n</script>\n\n<style scoped>\n</style>"],"mappings":"AAwDA;AACA,SAAAA,KAAA,EAAAC,OAAA,EAAAC,IAAA;AACA;EACAC,IAAA;EAAAC,KAAA;IACAC,GAAA,EAAAC;EACA;EACAC,IAAA,WAAAA,CAAA;IACA;MACAC,KAAA;MACAC,IAAA;MACAC,aAAA;MACAC,SAAA;MACAC,YAAA;MACAC,WAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAP,KAAA,OAAAR,KAAA;IACA,KAAAS,IAAA,OAAAP,IAAA;IACA,KAAAQ,aAAA,QAAAF,KAAA,CAAAQ,gBAAA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,CAAAC,EAAA;MAAA,KAAAV,IAAA,CAAAW,SAAA,CAAAD,EAAA;MAAA,KAAAE,WAAA;IACA;IACAC,iBAAAH,EAAA;MACA,KAAAP,YAAA;MACA,KAAAA,YAAA,QAAAJ,KAAA,CAAAe,cAAA,CAAAJ,EAAA;IACA;IACAE,YAAA;MACA,KAAAV,SAAA;MACA,KAAAA,SAAA,QAAAF,IAAA,CAAAe,aAAA;MAAA,KAAAC,YAAA;IACA;IACAA,aAAA;MACA,KAAAZ,WAAA;MACA,KAAAC,WAAA;MACA,KAAAD,WAAA,QAAAJ,IAAA,CAAAiB,eAAA,MAAAlB,KAAA;MAAA,KAAAM,WAAA,QAAAL,IAAA,CAAAkB,eAAA;IACA;IACAC,iBAAAT,EAAA;MACA,KAAAV,IAAA,CAAAoB,cAAA,CAAAV,EAAA;MACA,KAAAE,WAAA;MACA,KAAAI,YAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}